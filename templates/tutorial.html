<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="tutorial.title">使用教程</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="/static/css/main.css" rel="stylesheet">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-shield-alt"></i>
                <span data-i18n="nav.home">网络安全检测</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">
                            <i class="fas fa-home"></i>
                            <span data-i18n="nav.home">首页</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/predict">
                            <i class="fas fa-chart-line"></i>
                            <span data-i18n="nav.predict">威胁预测</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/train">
                            <i class="fas fa-brain"></i>
                            <span data-i18n="nav.train">模型训练</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/tutorial">
                            <i class="fas fa-book-open"></i>
                            <span data-i18n="nav.tutorial">使用教程</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/docs" target="_blank">
                            <i class="fas fa-code"></i>
                            <span data-i18n="nav.api">API文档</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <select id="languageSelector" class="language-selector" onchange="setLanguage(this.value)">
                            <option value="zh-CN">中文</option>
                            <option value="en-US">English</option>
                            <option value="ja-JP">日本語</option>
                        </select>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero区域 -->
    <section class="hero">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center fade-in">
                    <h1 class="display-4" data-i18n="tutorial.title">使用教程</h1>
                    <p class="lead" data-i18n="tutorial.welcome">欢迎使用网络安全威胁检测系统</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 主内容区 -->
    <section class="py-5">
        <div class="container">
            <!-- 快速开始 -->
            <div class="card mb-5">
                <div class="card-header">
                    <h2 class="mb-0">
                        <i class="fas fa-rocket"></i>
                        <span data-i18n="tutorial.quick">快速开始</span>
                    </h2>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-4 mb-4">
                            <div class="tutorial-step" data-step="1">
                                <h4 data-i18n="tutorial.step1">步骤 1：准备数据</h4>
                                <p data-i18n="tutorial.step1.desc">准备您的网络流量数据文件（CSV格式）</p>
                                <ul>
                                    <li>数据应包含30个特征列</li>
                                    <li>特征值通常为 -1, 0, 或 1</li>
                                    <li>可以使用系统提供的示例数据</li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-4 mb-4">
                            <div class="tutorial-step" data-step="2">
                                <h4 data-i18n="tutorial.step2">步骤 2：上传预测</h4>
                                <p data-i18n="tutorial.step2.desc">在"威胁预测"页面上传文件或输入数据</p>
                                <ul>
                                    <li>访问<a href="/predict">威胁预测</a>页面</li>
                                    <li>填写所有30个特征值</li>
                                    <li>或使用快捷按钮填充示例</li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-4 mb-4">
                            <div class="tutorial-step" data-step="3">
                                <h4 data-i18n="tutorial.step3">步骤 3：查看结果</h4>
                                <p data-i18n="tutorial.step3.desc">系统会立即显示预测结果和威胁级别</p>
                                <ul>
                                    <li>绿色图标表示安全</li>
                                    <li>红色图标表示检测到威胁</li>
                                    <li>查看详细的预测信息</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 功能详解 -->
            <div class="row mb-5">
                <div class="col-lg-6 mb-4">
                    <div class="card h-100">
                        <div class="card-header bg-primary text-white">
                            <h3 class="mb-0">
                                <i class="fas fa-search-plus"></i>
                                威胁预测功能
                            </h3>
                        </div>
                        <div class="card-body">
                            <h5>功能介绍</h5>
                            <p>威胁预测功能使用训练好的机器学习模型分析网络流量数据，识别潜在的安全威胁。</p>
                            
                            <h5 class="mt-3">如何使用</h5>
                            <ol>
                                <li>进入<a href="/predict">威胁预测</a>页面</li>
                                <li>填写30个网络流量特征值</li>
                                <li>可以点击"填充安全示例"或"填充威胁示例"快速测试</li>
                                <li>点击"立即预测"按钮</li>
                                <li>系统会显示预测结果和威胁等级</li>
                            </ol>

                            <h5 class="mt-3">特征说明</h5>
                            <p>系统使用30个特征来分析网络流量，包括：</p>
                            <ul>
                                <li><strong>URL特征：</strong>URL长度、是否包含IP地址、是否使用短链服务等</li>
                                <li><strong>域名特征：</strong>子域名数量、域名注册时长、DNS记录等</li>
                                <li><strong>页面特征：</strong>SSL状态、页面排名、是否被Google索引等</li>
                                <li><strong>行为特征：</strong>重定向、弹窗、iframe使用情况等</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="col-lg-6 mb-4">
                    <div class="card h-100">
                        <div class="card-header bg-success text-white">
                            <h3 class="mb-0">
                                <i class="fas fa-cogs"></i>
                                模型训练功能
                            </h3>
                        </div>
                        <div class="card-body">
                            <h5>功能介绍</h5>
                            <p>模型训练功能允许您使用新数据训练和优化机器学习模型，提高检测准确率。</p>
                            
                            <h5 class="mt-3">如何使用</h5>
                            <ol>
                                <li>进入<a href="/train">模型训练</a>页面</li>
                                <li>点击"开始训练"按钮</li>
                                <li>系统会自动执行以下流程：
                                    <ul>
                                        <li>从数据库摄取训练数据</li>
                                        <li>验证数据质量和完整性</li>
                                        <li>进行数据预处理和转换</li>
                                        <li>训练多个机器学习模型</li>
                                        <li>自动选择最佳模型</li>
                                    </ul>
                                </li>
                                <li>实时查看训练日志和进度</li>
                                <li>训练完成后查看性能指标</li>
                            </ol>

                            <h5 class="mt-3">性能指标说明</h5>
                            <ul>
                                <li><strong>准确率(Accuracy)：</strong>正确预测的比例</li>
                                <li><strong>精确率(Precision)：</strong>预测为威胁的样本中真正为威胁的比例</li>
                                <li><strong>召回率(Recall)：</strong>所有真实威胁中被正确识别的比例</li>
                                <li><strong>F1分数：</strong>精确率和召回率的调和平均值</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FAQ -->
            <div class="card mb-5">
                <div class="card-header">
                    <h2 class="mb-0">
                        <i class="fas fa-question-circle"></i>
                        <span data-i18n="tutorial.faq">常见问题</span>
                    </h2>
                </div>
                <div class="card-body">
                    <div class="accordion" id="faqAccordion">
                        <!-- FAQ 1 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                    Q1: 如何获取网络流量数据？
                                </button>
                            </h2>
                            <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>您可以通过以下方式获取网络流量数据：</p>
                                    <ul>
                                        <li>使用网络抓包工具（如Wireshark）捕获流量</li>
                                        <li>从Web服务器日志中提取特征</li>
                                        <li>使用专业的流量分析工具导出特征数据</li>
                                        <li>使用我们提供的示例数据进行测试</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- FAQ 2 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                    Q2: 预测结果的准确率如何？
                                </button>
                            </h2>
                            <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>系统的预测准确率取决于多个因素：</p>
                                    <ul>
                                        <li>当前模型在测试集上的准确率通常在95%以上</li>
                                        <li>使用更多训练数据可以提高准确率</li>
                                        <li>定期重新训练模型以适应新的威胁模式</li>
                                        <li>模型性能会在<a href="/train">模型训练</a>页面实时显示</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- FAQ 3 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                    Q3: 如何理解30个特征值？
                                </button>
                            </h2>
                            <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>这30个特征值是从网络流量中提取的关键指标：</p>
                                    <ul>
                                        <li><strong>-1:</strong> 通常表示可疑或异常的特征</li>
                                        <li><strong>0:</strong> 表示中性或不确定的特征</li>
                                        <li><strong>1:</strong> 表示正常或安全的特征</li>
                                    </ul>
                                    <p>如果您不确定如何填写，可以使用"填充安全示例"或"填充威胁示例"按钮来查看典型的特征组合。</p>
                                </div>
                            </div>
                        </div>

                        <!-- FAQ 4 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                                    Q4: 训练需要多长时间？
                                </button>
                            </h2>
                            <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>训练时间取决于多个因素：</p>
                                    <ul>
                                        <li>数据集大小：更多数据需要更长时间</li>
                                        <li>模型复杂度：使用GridSearch会测试多个模型和参数组合</li>
                                        <li>硬件性能：CPU性能影响训练速度</li>
                                        <li>通常情况下，训练需要5-15分钟</li>
                                    </ul>
                                    <p>您可以在<a href="/train">模型训练</a>页面实时查看训练进度和日志。</p>
                                </div>
                            </div>
                        </div>

                        <!-- FAQ 5 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
                                    Q5: 如何通过API使用系统？
                                </button>
                            </h2>
                            <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>系统提供了完整的REST API接口：</p>
                                    <ul>
                                        <li>访问<a href="/docs" target="_blank">API文档</a>查看所有可用接口</li>
                                        <li>使用<code>POST /predict_live</code>进行威胁预测</li>
                                        <li>使用<code>GET /api/health</code>检查系统状态</li>
                                        <li>使用<code>GET /train</code>触发模型训练</li>
                                    </ul>
                                    <p>示例代码：</p>
                                    <pre class="bg-dark text-light p-3 rounded"><code>import requests

# 威胁预测
data = {
    "having_IP_Address": 1,
    "URL_Length": 1,
    # ... 其他28个特征
}
response = requests.post('http://your-server:8000/predict_live', json=data)
print(response.json())</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 视频教程和文档 -->
            <div class="row">
                <div class="col-lg-6 mb-4">
                    <div class="card">
                        <div class="card-header bg-info text-white">
                            <h3 class="mb-0">
                                <i class="fas fa-video"></i>
                                <span data-i18n="tutorial.video">视频教程</span>
                            </h3>
                        </div>
                        <div class="card-body">
                            <p>敬请期待！我们正在制作详细的视频教程，包括：</p>
                            <ul>
                                <li>系统快速入门（5分钟）</li>
                                <li>如何进行威胁预测（10分钟）</li>
                                <li>如何训练和优化模型（15分钟）</li>
                                <li>API集成实战（20分钟）</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="col-lg-6 mb-4">
                    <div class="card">
                        <div class="card-header bg-warning">
                            <h3 class="mb-0">
                                <i class="fas fa-book"></i>
                                相关文档
                            </h3>
                        </div>
                        <div class="card-body">
                            <ul class="list-unstyled">
                                <li class="mb-2">
                                    <a href="/docs" target="_blank" class="text-decoration-none">
                                        <i class="fas fa-code"></i> API 完整文档
                                    </a>
                                </li>
                                <li class="mb-2">
                                    <a href="https://github.com/zimingttkx/Network-Security-Based-On-ML" target="_blank" class="text-decoration-none">
                                        <i class="fab fa-github"></i> GitHub 项目主页
                                    </a>
                                </li>
                                <li class="mb-2">
                                    <a href="https://github.com/zimingttkx/Network-Security-Based-On-ML#readme" target="_blank" class="text-decoration-none">
                                        <i class="fas fa-file-alt"></i> README 说明文档
                                    </a>
                                </li>
                                <li class="mb-2">
                                    <a href="/" class="text-decoration-none">
                                        <i class="fas fa-home"></i> 返回首页
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-4 bg-dark text-white text-center">
        <div class="container">
            <p class="mb-0">&copy; 2025 网络安全威胁检测系统. All rights reserved.</p>
            <p class="mb-0 mt-2">
                <a href="https://github.com/zimingttkx/Network-Security-Based-On-ML" class="text-white" target="_blank">
                    <i class="fab fa-github"></i> GitHub
                </a>
            </p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/i18n.js"></script>
</body>
</html>
